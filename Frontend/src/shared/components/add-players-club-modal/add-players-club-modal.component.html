<h2 mat-dialog-title>Gestionar jugadores del club</h2>

<div mat-dialog-content class="content">

  <mat-form-field appearance="outline" class="full">
    <mat-label>Buscar jugador (DNI o nombre)</mat-label>
    <input matInput [(ngModel)]="busqueda" (input)="buscar()" />
  </mat-form-field>

  <div *ngIf="resultadosBusqueda.length; else empty">

    <div class="row" *ngFor="let j of resultadosBusqueda">

      <div class="info">
        <strong>{{ j.nombre }}</strong>
        <div class="muted">DNI: {{ j.DNI }}</div>

        <div class="muted" *ngIf="j.club_id === data.clubId">
          Ya pertenece a este club
        </div>

        <div class="muted" *ngIf="j.club_id && j.club_id !== data.clubId">
          Pertenece a otro club
        </div>

        <div class="muted" *ngIf="!j.club_id">
          Sin club
        </div>
      </div>

      <button
        mat-raised-button
        [color]="j.club_id === data.clubId ? 'warn' : 'primary'"
        (click)="accionJugador(j)"
      >
        {{ j.club_id === data.clubId ? 'Quitar del club' : 'AÃ±adir al club' }}
      </button>

    </div>

  </div>

  <ng-template #empty>
    <p class="muted">No hay jugadores que coincidan.</p>
  </ng-template>

</div>

<div mat-dialog-actions align="end">
  <button mat-button (click)="cerrar()">Cerrar</button>
</div>
